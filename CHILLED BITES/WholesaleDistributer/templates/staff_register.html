{% extends 'commonbase.html'%}
{% block content %}
<div class="title text-center mb-5">
    <h3 class="text-warning mb-2">Staff Registration</h3>
</div>
<div class="row support-bottom">
    <!-- Hover Effect Style : Demo - 15 -->
    <div class="container">

        <form method="post" action="{% url 'staffRegisterAction'  %}" name='myform' enctype="multipart/form-data">
            {% csrf_token %}
            <div class="row">
                <div class="offset-md-3 col-md-6">
                    <table>
                        <div class="form-group">
                            <label for="">Name</label>
                            <input type="text" name="Name" id="Name" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Address</label>
                            <textarea name="Address" cols="30" rows="10" id="Address" class="form-control"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="">Phone_No</label>
                            <input type="text" name="Phone_No" id="Phoneno" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Email</label>
                            <input type="email" name="Email" id="Email" class="form-control">
                        </div>
                        <fieldset class="form-group row">
                            <legend class="col-form-label col-sm-2 float-sm-left pt-0">Gender</legend>
                            <div class="col-sm-10">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="Gender" id="gridRadios1"
                                        value="Male" checked>
                                    <label class="form-check-label" for="gridRadios1">
                                        Male
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="Gender" id="gridRadios2"
                                        value="Female">
                                    <label class="form-check-label" for="gridRadios2">
                                        Female
                                    </label>
                                </div>
                            </div>
                        </fieldset>
                        <div class="form-group">
                            <label for="">City</label>
                            <input type="text" name="City" id="City" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Pincode</label>
                            <input type="text" name="Pincode" id="Pincode" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Upload Driving License</label>
                            <input type="file" name="Proof" id="File" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Username</label>
                            <input type="text" name="Username" id="Username" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Password</label>
                            <input type="password" name="Password" id="Password" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="">Confirm_Password</label>
                            <input type="password" name="Confirm_password" id="Confirm_password" class="form-control">
                        </div>
                        <div class="row">
                            <div class="col-md-12 text-center">
                                <input type="submit" class="btn btn-warning col-md-6" value="REGISTER"
                                    onClick="return validation()">
                            </div>
                        </div>
                    </table>
                </div>
            </div>
        </form>
    </div>
</div>
<script type="text/javascript">
    function validation() {
        var alpha = /^[a-zA-Z\s]+$/;
        var num = /^[0-9]{10}$/;
        var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        // var email = /^[\w\-\.\+]+@[a-za-z0-9\.\-]+\.[a-zA-Z0-9]{2,4}$/;
        var pass =  /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
        var pin = /^[0-9]{6}$/;
        var name = document.getElementById("Name");
        var address = document.getElementById("Address");
        var phone_no = document.getElementById("Phoneno");
        var email = document.getElementById("Email");
        var gender = document.myform.Gender;
        var city = document.getElementById("City");
        var pincode = document.getElementById("Pincode");
        var file = document.getElementById("File");
        var username = document.getElementById("Username");
        var password = document.getElementById("Password");
        var confirm_password = document.getElementById("Confirm_password");

        if (name.value.length == 0) {
            alert("Enter a name");
            return false;
        }
        else if (!name.value.match(alpha)) {
            alert("Enter a valid name")
            return false;
        }
        else if (address.value.length == 0) {
            alert("Enter an address")
            return false;
        }
        else if (phone_no.value.length == 0) {
            alert("Enter a phone number")
            return false;
        }
        else if (!phone_no.value.match(num)) {
            alert("Phone number must be 10 digits")
            return false;
        }
        else if (email.value.length == 0) {
            alert("Enter an email")
            return false;
        }
        else if (!email.value.match(mailformat)) {
            alert("Enter a valid email")
            return false;
        }
        else if (gender[0].checked == false && gender[1].checked == false) {
            alert("Enter a valid gender")
            return false;
        }
        else if (city.value.length == 0) {
            alert("Enter a city")
            return false;
        }
        else if (pincode.value.length == 0) {
            alert("Enter a pincode")
            return false;
        }
        else if (!pincode.value.match(pin)) {
            alert("Pincode must be 6 digits")
            return false;
        }
        else if (file.value.length == 0) {
            alert("Select a file")
            return false;
        }
        else if (username.value.length == 0) {
            alert("Enter an username")
            return false;
        }
        else if (password.value.length == 0) {
            alert("Enter a password")
            return false;
        }
        else if (!password.value.match(pass)) {
            alert("Password must contains 8 to 15 characters with at least one lowercase letter, one uppercase letter, one numeric digit, and one special character");
            return false;
        }
        else if (confirm_password.value.length == 0) {
            alert("Fillout confirm password field")
            return false;
        }
        else if (!password.value.match(confirm_password.value)) {
            alert("Password does not match")
            return false;
        }
        else {
            return true;
        }
    }
</script>
{% if messages %}
{% for msg in messages %}
<script>
    alert('{{ msg }}')
</script>
{% endfor %}
{% endif %}

{% endblock %}